!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).Archive=e()}(this,(function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function i(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let l,o;function s(t,e){return l||(l=document.createElement("a")),l.href=e,t===l.href}function u(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode&&t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function h(){return g(" ")}function m(){return g("")}function $(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function v(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function P(t){return""===t?null:+t}function b(t,e){e=""+e,t.data!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}class x{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){var r;this.e||(this.is_svg?this.e=(r=e.nodeName,document.createElementNS("http://www.w3.org/2000/svg",r)):this.e=p(11===e.nodeType?"TEMPLATE":e.nodeName),this.t="TEMPLATE"!==e.tagName?e:e.content,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)a(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(d)}}function _(t){o=t}const k=[],C=[];let w=[];const F=[],E=Promise.resolve();let N=!1;function T(t){w.push(t)}function q(t){F.push(t)}const L=new Set;let M=0;function S(){if(0!==M)return;const t=o;do{try{for(;M<k.length;){const t=k[M];M++,_(t),A(t.$$)}}catch(t){throw k.length=0,M=0,t}for(_(null),k.length=0,M=0;C.length;)C.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];L.has(e)||(L.add(e),e())}w.length=0}while(k.length);for(;F.length;)F.pop()();N=!1,L.clear(),_(t)}function A(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(T)}}const O=new Set;let H;function j(){H={r:0,c:[],p:H}}function B(){H.r||r(H.c),H=H.p}function I(t,e){t&&t.i&&(O.delete(t),t.i(e))}function R(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),H.c.push((()=>{O.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}else r&&r()}function z(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function D(t){t&&t.c()}function G(t,n,c,l){const{fragment:o,after_update:s}=t.$$;o&&o.m(n,c),l||T((()=>{const n=t.$$.on_mount.map(e).filter(i);t.$$.on_destroy?t.$$.on_destroy.push(...n):r(n),t.$$.on_mount=[]})),s.forEach(T)}function J(t,e){const n=t.$$;null!==n.fragment&&(!function(t){const e=[],n=[];w.forEach((r=>-1===t.indexOf(r)?e.push(r):n.push(r))),n.forEach((t=>t())),w=e}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function K(t,e){-1===t.$$.dirty[0]&&(k.push(t),N||(N=!0,E.then(S)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Q(e,i,c,l,s,u,a,f=[-1]){const p=o;_(e);const g=e.$$={fragment:null,ctx:[],props:u,update:t,not_equal:s,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:i.target||p.$$.root};a&&a(g.root);let h=!1;if(g.ctx=c?c(e,i.props||{},((t,n,...r)=>{const i=r.length?r[0]:n;return g.ctx&&s(g.ctx[t],g.ctx[t]=i)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](i),h&&K(e,t)),n})):[],g.update(),h=!0,r(g.before_update),g.fragment=!!l&&l(g.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);g.fragment&&g.fragment.l(t),t.forEach(d)}else g.fragment&&g.fragment.c();i.intro&&I(e.$$.fragment),G(e,i.target,i.anchor,i.customElement),S()}_(p)}class U{$destroy(){J(this,1),this.$destroy=t}$on(e,n){if(!i(n))return t;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t,e,n){const r=t.slice();return r[2]=e[n],r[4]=n,r}function W(t){let e,n,r,i=t[2]+"",c=t[4]+1<t[1]&&function(t){let e;return{c(){e=g(",")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}();return{c(){e=p("span"),n=g(i),c&&c.c(),r=h()},m(t,i){a(t,e,i),u(e,n),c&&c.m(e,null),u(e,r)},p(t,e){1&e&&i!==(i=t[2]+"")&&b(n,i)},d(t){t&&d(e),c&&c.d()}}}function X(e){let n,r,i,c,l,o,$,P,b,y,x,_,k,C,w,F,E,N,T,q,L,M,S,A,O,H,j,B,I,R=e[0].title+"",z=e[0].title+"",D=1==e[1]&&function(t){let e;return{c(){e=g("sku")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}(),G=e[1]>1&&function(t){let e;return{c(){e=g("skus")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}(),J=e[0].skus,K=[];for(let t=0;t<J.length;t+=1)K[t]=W(V(e,J,t));let Q=1==e[1]&&function(t){let e;return{c(){e=g("sku")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}(),U=e[1]>1&&function(t){let e;return{c(){e=g("skus")},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}();return{c(){n=p("div"),r=p("div"),i=p("img"),l=h(),o=p("div"),$=h(),P=p("div"),b=g(e[1]),y=h(),D&&D.c(),x=m(),G&&G.c(),_=h(),k=p("a"),C=g(">"),F=h(),E=p("div"),N=p("div");for(let t=0;t<K.length;t+=1)K[t].c();T=h(),q=p("div"),L=h(),M=p("div"),S=g(e[1]),A=h(),Q&&Q.c(),O=m(),U&&U.c(),H=h(),j=p("a"),B=g(">"),s(i.src,c=e[0].image_url)||v(i,"src",c),v(i,"alt",""),v(o,"class","product-title"),v(P,"class","sku-count"),v(k,"class","product-card-link"),v(k,"href",w=e[0].link),v(r,"class","product-block-image"),v(N,"class","sku-list"),v(q,"class","product-title"),v(M,"class","sku-count"),v(j,"class","product-card-link"),v(j,"href",I=e[0].link),v(E,"class","sku-list-container"),v(n,"class","product-card")},m(t,e){a(t,n,e),u(n,r),u(r,i),u(r,l),u(r,o),o.innerHTML=R,u(r,$),u(r,P),u(P,b),u(P,y),D&&D.m(P,null),u(P,x),G&&G.m(P,null),u(r,_),u(r,k),u(k,C),u(n,F),u(n,E),u(E,N);for(let t=0;t<K.length;t+=1)K[t]&&K[t].m(N,null);u(E,T),u(E,q),q.innerHTML=z,u(E,L),u(E,M),u(M,S),u(M,A),Q&&Q.m(M,null),u(M,O),U&&U.m(M,null),u(E,H),u(E,j),u(j,B)},p(t,[e]){if(1&e&&!s(i.src,c=t[0].image_url)&&v(i,"src",c),1&e&&R!==(R=t[0].title+"")&&(o.innerHTML=R),1&e&&w!==(w=t[0].link)&&v(k,"href",w),3&e){let n;for(J=t[0].skus,n=0;n<J.length;n+=1){const r=V(t,J,n);K[n]?K[n].p(r,e):(K[n]=W(r),K[n].c(),K[n].m(N,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=J.length}1&e&&z!==(z=t[0].title+"")&&(q.innerHTML=z),1&e&&I!==(I=t[0].link)&&v(j,"href",I)},i:t,o:t,d(t){t&&d(n),D&&D.d(),G&&G.d(),f(K,t),Q&&Q.d(),U&&U.d()}}}function Y(t,e,n){let{product:r}=e;const i=r.skus.length;return t.$$set=t=>{"product"in t&&n(0,r=t.product)},[r,i]}class Z extends U{constructor(t){super(),Q(this,t,Y,X,c,{product:0})}}function tt(e){let n;return{c(){n=p("button"),n.textContent="Prev",v(n,"class","prev-next-button"),n.disabled=!0},m(t,e){a(t,n,e)},p:t,d(t){t&&d(n)}}}function et(e){let n,r,i;return{c(){n=p("button"),n.textContent="Prev",v(n,"class","prev-next-button")},m(t,c){a(t,n,c),r||(i=$(n,"click",e[3]),r=!0)},p:t,d(t){t&&d(n),r=!1,i()}}}function nt(t){let e,n,r,i,c=t[0]-2+"";return{c(){e=p("button"),n=g(c),v(e,"class","pagination-button")},m(c,l){a(c,e,l),u(e,n),r||(i=$(e,"click",t[4]),r=!0)},p(t,e){1&e&&c!==(c=t[0]-2+"")&&b(n,c)},d(t){t&&d(e),r=!1,i()}}}function rt(t){let e,n,r,i,c=t[0]-1+"";return{c(){e=p("button"),n=g(c),v(e,"class","pagination-button")},m(c,l){a(c,e,l),u(e,n),r||(i=$(e,"click",t[5]),r=!0)},p(t,e){1&e&&c!==(c=t[0]-1+"")&&b(n,c)},d(t){t&&d(e),r=!1,i()}}}function it(t){let e,n,r,i,c=t[0]+1+"";return{c(){e=p("button"),n=g(c),v(e,"class","pagination-button")},m(c,l){a(c,e,l),u(e,n),r||(i=$(e,"click",t[6]),r=!0)},p(t,e){1&e&&c!==(c=t[0]+1+"")&&b(n,c)},d(t){t&&d(e),r=!1,i()}}}function ct(t){let e,n,r,i,c=t[0]+2+"";return{c(){e=p("button"),n=g(c),v(e,"class","pagination-button")},m(c,l){a(c,e,l),u(e,n),r||(i=$(e,"click",t[7]),r=!0)},p(t,e){1&e&&c!==(c=t[0]+2+"")&&b(n,c)},d(t){t&&d(e),r=!1,i()}}}function lt(t){let e,n,r,i,c,l;return{c(){e=p("div"),e.textContent="...",n=h(),r=p("button"),i=g(t[1]),v(e,"class","pagination-seperator-dots"),v(r,"class","pagination-button")},m(o,s){a(o,e,s),a(o,n,s),a(o,r,s),u(r,i),c||(l=$(r,"click",t[8]),c=!0)},p(t,e){2&e&&b(i,t[1])},d(t){t&&d(e),t&&d(n),t&&d(r),c=!1,l()}}}function ot(e){let n;return{c(){n=p("button"),n.textContent="Next",v(n,"class","prev-next-button"),n.disabled=!0},m(t,e){a(t,n,e)},p:t,d(t){t&&d(n)}}}function st(e){let n,r,i;return{c(){n=p("button"),n.textContent="Next",v(n,"class","prev-next-button")},m(t,c){a(t,n,c),r||(i=$(n,"click",e[9]),r=!0)},p:t,d(t){t&&d(n),r=!1,i()}}}function ut(e){let n,r,i,c,l,o,s,f,$,P,y;function x(t,e){return t[0]>1?et:tt}let _=x(e),k=_(e),C=e[0]==e[1]&&e[1]>2&&nt(e),w=e[0]>1&&rt(e),F=e[0]<e[1]&&it(e),E=1==e[0]&&e[1]>2&&ct(e),N=e[0]<e[1]-1&&e[1]>3&&lt(e);function T(t,e){return t[0]<t[1]?st:ot}let q=T(e),L=q(e);return{c(){k.c(),n=h(),r=p("div"),C&&C.c(),i=h(),w&&w.c(),c=h(),l=p("button"),o=g(e[0]),s=h(),F&&F.c(),f=h(),E&&E.c(),$=h(),N&&N.c(),P=h(),L.c(),y=m(),v(l,"class","pagination-button pagination-button__current"),v(r,"class","page-number-buttons")},m(t,e){k.m(t,e),a(t,n,e),a(t,r,e),C&&C.m(r,null),u(r,i),w&&w.m(r,null),u(r,c),u(r,l),u(l,o),u(r,s),F&&F.m(r,null),u(r,f),E&&E.m(r,null),u(r,$),N&&N.m(r,null),a(t,P,e),L.m(t,e),a(t,y,e)},p(t,[e]){_===(_=x(t))&&k?k.p(t,e):(k.d(1),k=_(t),k&&(k.c(),k.m(n.parentNode,n))),t[0]==t[1]&&t[1]>2?C?C.p(t,e):(C=nt(t),C.c(),C.m(r,i)):C&&(C.d(1),C=null),t[0]>1?w?w.p(t,e):(w=rt(t),w.c(),w.m(r,c)):w&&(w.d(1),w=null),1&e&&b(o,t[0]),t[0]<t[1]?F?F.p(t,e):(F=it(t),F.c(),F.m(r,f)):F&&(F.d(1),F=null),1==t[0]&&t[1]>2?E?E.p(t,e):(E=ct(t),E.c(),E.m(r,$)):E&&(E.d(1),E=null),t[0]<t[1]-1&&t[1]>3?N?N.p(t,e):(N=lt(t),N.c(),N.m(r,null)):N&&(N.d(1),N=null),q===(q=T(t))&&L?L.p(t,e):(L.d(1),L=q(t),L&&(L.c(),L.m(y.parentNode,y)))},i:t,o:t,d(t){k.d(t),t&&d(n),t&&d(r),C&&C.d(),w&&w.d(),F&&F.d(),E&&E.d(),N&&N.d(),t&&d(P),L.d(t),t&&d(y)}}}function at(t,e,n){let{currentPage:r}=e,{totalPages:i}=e;function c(t){n(0,r=t)}return t.$$set=t=>{"currentPage"in t&&n(0,r=t.currentPage),"totalPages"in t&&n(1,i=t.totalPages)},[r,i,c,()=>{c(r-1)},()=>{c(r-2)},()=>{c(r-1)},()=>{c(r+1)},()=>{c(r+2)},()=>{c(i)},()=>{c(r+1)}]}class dt extends U{constructor(t){super(),Q(this,t,at,ut,c,{currentPage:0,totalPages:1})}}function ft(e){let n,r,i;return{c(){n=p("input"),v(n,"type","number"),v(n,"min","1"),v(n,"max","144")},m(t,c){a(t,n,c),y(n,e[0]),r||(i=$(n,"input",e[1]),r=!0)},p(t,[e]){1&e&&P(n.value)!==t[0]&&y(n,t[0])},i:t,o:t,d(t){t&&d(n),r=!1,i()}}}function pt(t,e,n){let{postsPerPage:r=12}=e;return t.$$set=t=>{"postsPerPage"in t&&n(0,r=t.postsPerPage)},[r,function(){r=P(this.value),n(0,r)}]}class gt extends U{constructor(t){super(),Q(this,t,pt,ft,c,{postsPerPage:0})}}function ht(e){let n,i,c,l,o;return{c(){n=p("button"),n.innerHTML='<div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div>',i=h(),c=p("button"),c.innerHTML='<div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div> \n    <div class="square"></div>',v(n,"class","layout-button grid-layout-button"),v(c,"class","layout-button row-layout-button")},m(t,r){a(t,n,r),a(t,i,r),a(t,c,r),l||(o=[$(n,"click",e[1]),$(c,"click",e[2])],l=!0)},p:t,i:t,o:t,d(t){t&&d(n),t&&d(i),t&&d(c),l=!1,r(o)}}}function mt(t,e,n){let{gridStyle:r}=e;return t.$$set=t=>{"gridStyle"in t&&n(0,r=t.gridStyle)},[r,()=>n(0,r=!0),()=>n(0,r=!1)]}class $t extends U{constructor(t){super(),Q(this,t,mt,ht,c,{gridStyle:0})}}function vt(t,e,n){const r=t.slice();return r[10]=e[n],r}function Pt(t){let e;return{c(){e=p("span"),e.textContent="+"},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}function bt(t){let e;return{c(){e=p("span"),e.textContent="-"},m(t,n){a(t,e,n)},d(t){t&&d(e)}}}function yt(t){let e,n=t[1],r=[];for(let e=0;e<n.length;e+=1)r[e]=xt(vt(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=m()},m(t,n){for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,n);a(t,e,n)},p(t,i){if(3&i){let c;for(n=t[1],c=0;c<n.length;c+=1){const l=vt(t,n,c);r[c]?r[c].p(l,i):(r[c]=xt(l),r[c].c(),r[c].m(e.parentNode,e))}for(;c<r.length;c+=1)r[c].d(1);r.length=n.length}},d(t){f(r,t),t&&d(e)}}}function xt(t){let e,n,r,i,c,l,o,s,f,g,m=!1,P=t[10].name+"";return s=function(t){let e;return{p(...n){e=n,e.forEach((e=>t.push(e)))},r(){e.forEach((e=>t.splice(t.indexOf(e),1)))}}}(t[9][0]),{c(){e=p("li"),n=p("input"),c=h(),l=new x(!1),o=h(),v(n,"type","checkbox"),v(n,"name",r=t[10].name),n.__value=i=t[10].id,n.value=n.__value,l.a=o,s.p(n)},m(r,i){a(r,e,i),u(e,n),n.checked=~(t[0]||[]).indexOf(n.__value),u(e,c),l.m(P,e),u(e,o),f||(g=$(n,"change",t[8]),f=!0)},p(t,e){2&e&&r!==(r=t[10].name)&&v(n,"name",r),2&e&&i!==(i=t[10].id)&&(n.__value=i,n.value=n.__value,m=!0),(m||3&e)&&(n.checked=~(t[0]||[]).indexOf(n.__value)),2&e&&P!==(P=t[10].name+"")&&l.p(P)},d(t){t&&d(e),s.r(),f=!1,g()}}}function _t(e){let n,r,i,c,l,o,s,f;function m(t,e){return t[3]?bt:Pt}let P=m(e),y=P(e),x=e[3]&&yt(e);return{c(){n=p("ul"),r=p("button"),i=p("h4"),c=g(e[2]),l=h(),y.c(),o=h(),x&&x.c(),v(r,"class","filter-category-title"),v(n,"class","product-archive-filters-section")},m(t,d){a(t,n,d),u(n,r),u(r,i),u(i,c),u(r,l),y.m(r,null),u(n,o),x&&x.m(n,null),s||(f=$(r,"click",e[7]),s=!0)},p(t,[e]){4&e&&b(c,t[2]),P!==(P=m(t))&&(y.d(1),y=P(t),y&&(y.c(),y.m(r,null))),t[3]?x?x.p(t,e):(x=yt(t),x.c(),x.m(n,null)):x&&(x.d(1),x=null)},i:t,o:t,d(t){t&&d(n),y.d(),x&&x.d(),s=!1,f()}}}function kt(t,e,n){let{categories:r=[]}=e,{filters:i=[]}=e,{title:c="title"}=e,{currentPage:l}=e,{isParent:o}=e,{childFilters:s}=e,u=!1;const a=[[]];return t.$$set=t=>{"categories"in t&&n(1,r=t.categories),"filters"in t&&n(0,i=t.filters),"title"in t&&n(2,c=t.title),"currentPage"in t&&n(4,l=t.currentPage),"isParent"in t&&n(6,o=t.isParent),"childFilters"in t&&n(5,s=t.childFilters)},t.$$.update=()=>{1&t.$$.dirty&&i.length&&n(4,l=1),65&t.$$.dirty&&o&&i.length&&n(5,s=[])},[i,r,c,u,l,s,o,()=>{n(3,u=!u)},function(){i=function(t,e,n){const r=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&r.add(t[e].__value);return n||r.delete(e),Array.from(r)}(a[0],this.__value,this.checked),n(0,i)},a]}class Ct extends U{constructor(t){super(),Q(this,t,kt,_t,c,{categories:1,filters:0,title:2,currentPage:4,isParent:6,childFilters:5})}}function wt(t){let e,n,r,i;function c(e){t[9](e)}function l(e){t[10](e)}let o={title:"Subcategory",categories:t[5],isParent:!1};return void 0!==t[2]&&(o.filters=t[2]),void 0!==t[3]&&(o.currentPage=t[3]),e=new Ct({props:o}),C.push((()=>z(e,"filters",c))),C.push((()=>z(e,"currentPage",l))),{c(){D(e.$$.fragment)},m(t,n){G(e,t,n),i=!0},p(t,i){const c={};32&i&&(c.categories=t[5]),!n&&4&i&&(n=!0,c.filters=t[2],q((()=>n=!1))),!r&&8&i&&(r=!0,c.currentPage=t[3],q((()=>r=!1))),e.$set(c)},i(t){i||(I(e.$$.fragment,t),i=!0)},o(t){R(e.$$.fragment,t),i=!1},d(t){J(e,t)}}}function Ft(t){let e,n,r,i;function c(e){t[11](e)}function l(e){t[12](e)}let o={title:"Subcategory",categories:t[1],isParent:!1};return void 0!==t[2]&&(o.filters=t[2]),void 0!==t[3]&&(o.currentPage=t[3]),e=new Ct({props:o}),C.push((()=>z(e,"filters",c))),C.push((()=>z(e,"currentPage",l))),{c(){D(e.$$.fragment)},m(t,n){G(e,t,n),i=!0},p(t,i){const c={};2&i&&(c.categories=t[1]),!n&&4&i&&(n=!0,c.filters=t[2],q((()=>n=!1))),!r&&8&i&&(r=!0,c.currentPage=t[3],q((()=>r=!1))),e.$set(c)},i(t){i||(I(e.$$.fragment,t),i=!0)},o(t){R(e.$$.fragment,t),i=!1},d(t){J(e,t)}}}function Et(t){let e,n,r,i,c,l,o,s;function f(e){t[6](e)}function g(e){t[7](e)}function m(e){t[8](e)}let $={title:"Category",categories:t[4],isParent:!0};void 0!==t[0]&&($.filters=t[0]),void 0!==t[3]&&($.currentPage=t[3]),void 0!==t[2]&&($.childFilters=t[2]),n=new Ct({props:$}),C.push((()=>z(n,"filters",f))),C.push((()=>z(n,"currentPage",g))),C.push((()=>z(n,"childFilters",m)));let P=0==t[0].length&&wt(t),b=t[0].length>0&&Ft(t);return{c(){e=p("div"),D(n.$$.fragment),l=h(),P&&P.c(),o=h(),b&&b.c(),v(e,"class","product-archive-filters")},m(t,r){a(t,e,r),G(n,e,null),u(e,l),P&&P.m(e,null),u(e,o),b&&b.m(e,null),s=!0},p(t,[l]){const s={};16&l&&(s.categories=t[4]),!r&&1&l&&(r=!0,s.filters=t[0],q((()=>r=!1))),!i&&8&l&&(i=!0,s.currentPage=t[3],q((()=>i=!1))),!c&&4&l&&(c=!0,s.childFilters=t[2],q((()=>c=!1))),n.$set(s),0==t[0].length?P?(P.p(t,l),1&l&&I(P,1)):(P=wt(t),P.c(),I(P,1),P.m(e,o)):P&&(j(),R(P,1,1,(()=>{P=null})),B()),t[0].length>0?b?(b.p(t,l),1&l&&I(b,1)):(b=Ft(t),b.c(),I(b,1),b.m(e,null)):b&&(j(),R(b,1,1,(()=>{b=null})),B())},i(t){s||(I(n.$$.fragment,t),I(P),I(b),s=!0)},o(t){R(n.$$.fragment,t),R(P),R(b),s=!1},d(t){t&&d(e),J(n),P&&P.d(),b&&b.d()}}}function Nt(t,e,n){let{parentCategories:r=[]}=e,{childCategories:i=[]}=e,{childFilters:c=[]}=e,{parentFilters:l=[]}=e,{currentPage:o}=e,{currentChildCategories:s=[]}=e;return t.$$set=t=>{"parentCategories"in t&&n(4,r=t.parentCategories),"childCategories"in t&&n(5,i=t.childCategories),"childFilters"in t&&n(2,c=t.childFilters),"parentFilters"in t&&n(0,l=t.parentFilters),"currentPage"in t&&n(3,o=t.currentPage),"currentChildCategories"in t&&n(1,s=t.currentChildCategories)},t.$$.update=()=>{35&t.$$.dirty&&l.length>0&&(n(1,s=[]),i.forEach((t=>{l.find((e=>e==t.parent))&&s.push(t)})))},[l,s,c,o,r,i,function(t){l=t,n(0,l)},function(t){o=t,n(3,o)},function(t){c=t,n(2,c)},function(t){c=t,n(2,c)},function(t){o=t,n(3,o)},function(t){c=t,n(2,c)},function(t){o=t,n(3,o)}]}class Tt extends U{constructor(t){super(),Q(this,t,Nt,Et,c,{parentCategories:4,childCategories:5,childFilters:2,parentFilters:0,currentPage:3,currentChildCategories:1})}}function qt(t,e,n){const r=t.slice();return r[26]=e[n],r[28]=n,r}function Lt(t){let e,n,r,i,c,l,o=t[11]&&Mt(t);return{c(){e=p("button"),e.innerHTML='<div class="filters-icon"></div>\n        Filter',n=h(),o&&o.c(),r=m(),v(e,"class","filters-heading")},m(s,u){a(s,e,u),a(s,n,u),o&&o.m(s,u),a(s,r,u),i=!0,c||(l=$(e,"click",t[17]),c=!0)},p(t,e){t[11]?o?(o.p(t,e),2048&e&&I(o,1)):(o=Mt(t),o.c(),I(o,1),o.m(r.parentNode,r)):o&&(j(),R(o,1,1,(()=>{o=null})),B())},i(t){i||(I(o),i=!0)},o(t){R(o),i=!1},d(t){t&&d(e),t&&d(n),o&&o.d(t),t&&d(r),c=!1,l()}}}function Mt(t){let e,n,r,i,c,l,o;function s(e){t[18](e)}function u(e){t[19](e)}function a(e){t[20](e)}function d(e){t[21](e)}function f(e){t[22](e)}let p={};return void 0!==t[0]&&(p.childCategories=t[0]),void 0!==t[1]&&(p.parentCategories=t[1]),void 0!==t[5]&&(p.parentFilters=t[5]),void 0!==t[6]&&(p.childFilters=t[6]),void 0!==t[3]&&(p.currentPage=t[3]),e=new Tt({props:p}),C.push((()=>z(e,"childCategories",s))),C.push((()=>z(e,"parentCategories",u))),C.push((()=>z(e,"parentFilters",a))),C.push((()=>z(e,"childFilters",d))),C.push((()=>z(e,"currentPage",f))),{c(){D(e.$$.fragment)},m(t,n){G(e,t,n),o=!0},p(t,o){const s={};!n&&1&o&&(n=!0,s.childCategories=t[0],q((()=>n=!1))),!r&&2&o&&(r=!0,s.parentCategories=t[1],q((()=>r=!1))),!i&&32&o&&(i=!0,s.parentFilters=t[5],q((()=>i=!1))),!c&&64&o&&(c=!0,s.childFilters=t[6],q((()=>c=!1))),!l&&8&o&&(l=!0,s.currentPage=t[3],q((()=>l=!1))),e.$set(s)},i(t){o||(I(e.$$.fragment,t),o=!0)},o(t){R(e.$$.fragment,t),o=!1},d(t){J(e,t)}}}function St(t){let e,n,r,i,c,l;return{c(){e=p("div"),n=g(t[9]),r=g(" Results matching your selection.\n                "),i=p("button"),i.textContent="x",v(e,"class","product-archive-total-results")},m(o,s){a(o,e,s),u(e,n),u(e,r),u(e,i),c||(l=$(i,"click",t[15]),c=!0)},p(t,e){512&e&&b(n,t[9])},d(t){t&&d(e),c=!1,l()}}}function At(t){let e,n;return e=new Z({props:{product:t[26]}}),{c(){D(e.$$.fragment)},m(t,r){G(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.product=t[26]),e.$set(r)},i(t){n||(I(e.$$.fragment,t),n=!0)},o(t){R(e.$$.fragment,t),n=!1},d(t){J(e,t)}}}function Ot(t){let e,n,r=t[28]>=t[13]&&t[28]<t[8]&&At(t);return{c(){r&&r.c(),e=m()},m(t,i){r&&r.m(t,i),a(t,e,i),n=!0},p(t,n){t[28]>=t[13]&&t[28]<t[8]?r?(r.p(t,n),8448&n&&I(r,1)):(r=At(t),r.c(),I(r,1),r.m(e.parentNode,e)):r&&(j(),R(r,1,1,(()=>{r=null})),B())},i(t){n||(I(r),n=!0)},o(t){R(r),n=!1},d(t){r&&r.d(t),t&&d(e)}}}function Ht(t){let e,n,r;function i(e){t[25](e)}let c={totalPages:t[14]};return void 0!==t[3]&&(c.currentPage=t[3]),e=new dt({props:c}),C.push((()=>z(e,"currentPage",i))),{c(){D(e.$$.fragment)},m(t,n){G(e,t,n),r=!0},p(t,r){const i={};16384&r&&(i.totalPages=t[14]),!n&&8&r&&(n=!0,i.currentPage=t[3],q((()=>n=!1))),e.$set(i)},i(t){r||(I(e.$$.fragment,t),r=!0)},o(t){R(e.$$.fragment,t),r=!1},d(t){J(e,t)}}}function jt(t){let e,n,r,i,c,l,o,s,g,m,$,P,b,y,x,_,k=t[2]&&Lt(t),w=(t[5].length>0||t[6].length>0)&&St(t);function F(e){t[23](e)}let E={};function N(e){t[24](e)}void 0!==t[4]&&(E.postsPerPage=t[4]),c=new gt({props:E}),C.push((()=>z(c,"postsPerPage",F)));let T={};void 0!==t[10]&&(T.gridStyle=t[10]),s=new $t({props:T}),C.push((()=>z(s,"gridStyle",N)));let L=t[7],M=[];for(let e=0;e<L.length;e+=1)M[e]=Ot(qt(t,L,e));const S=t=>R(M[t],1,1,(()=>{M[t]=null}));let A=t[14]>1&&Ht(t);return{c(){e=p("section"),k&&k.c(),n=h(),r=p("div"),w&&w.c(),i=h(),D(c.$$.fragment),o=h(),D(s.$$.fragment),m=h(),$=p("ul");for(let t=0;t<M.length;t+=1)M[t].c();b=h(),y=p("div"),A&&A.c(),v(r,"class","archive-controls"),v($,"class",P=t[10]?"product-archive-grid columns":"product-archive-grid rows"),v(y,"class","pagination-container"),v(e,"class",x="product-archive "+t[12])},m(t,l){a(t,e,l),k&&k.m(e,null),u(e,n),u(e,r),w&&w.m(r,null),u(r,i),G(c,r,null),u(r,o),G(s,r,null),u(e,m),u(e,$);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m($,null);u(e,b),u(e,y),A&&A.m(y,null),_=!0},p(t,[o]){t[2]?k?(k.p(t,o),4&o&&I(k,1)):(k=Lt(t),k.c(),I(k,1),k.m(e,n)):k&&(j(),R(k,1,1,(()=>{k=null})),B()),t[5].length>0||t[6].length>0?w?w.p(t,o):(w=St(t),w.c(),w.m(r,i)):w&&(w.d(1),w=null);const u={};!l&&16&o&&(l=!0,u.postsPerPage=t[4],q((()=>l=!1))),c.$set(u);const a={};if(!g&&1024&o&&(g=!0,a.gridStyle=t[10],q((()=>g=!1))),s.$set(a),8576&o){let e;for(L=t[7],e=0;e<L.length;e+=1){const n=qt(t,L,e);M[e]?(M[e].p(n,o),I(M[e],1)):(M[e]=Ot(n),M[e].c(),I(M[e],1),M[e].m($,null))}for(j(),e=L.length;e<M.length;e+=1)S(e);B()}(!_||1024&o&&P!==(P=t[10]?"product-archive-grid columns":"product-archive-grid rows"))&&v($,"class",P),t[14]>1?A?(A.p(t,o),16384&o&&I(A,1)):(A=Ht(t),A.c(),I(A,1),A.m(y,null)):A&&(j(),R(A,1,1,(()=>{A=null})),B()),(!_||4096&o&&x!==(x="product-archive "+t[12]))&&v(e,"class",x)},i(t){if(!_){I(k),I(c.$$.fragment,t),I(s.$$.fragment,t);for(let t=0;t<L.length;t+=1)I(M[t]);I(A),_=!0}},o(t){R(k),R(c.$$.fragment,t),R(s.$$.fragment,t),M=M.filter(Boolean);for(let t=0;t<M.length;t+=1)R(M[t]);R(A),_=!1},d(t){t&&d(e),k&&k.d(),w&&w.d(),J(c),J(s),f(M,t),A&&A.d()}}}function Bt(t,e,n){let r,i,c,l,o,s,u,{allProducts:a=[]}=e,{childCategories:d=[]}=e,{parentCategories:f=[]}=e,{showFilters:p=!0}=e,g=1,h=[],m=[],$=!0,v=!1;u=p?"":"hide-filters";return t.$$set=t=>{"allProducts"in t&&n(16,a=t.allProducts),"childCategories"in t&&n(0,d=t.childCategories),"parentCategories"in t&&n(1,f=t.parentCategories),"showFilters"in t&&n(2,p=t.showFilters)},t.$$.update=()=>{65632&t.$$.dirty&&0==m.length&&0==h.length&&n(7,s=[...a]),65600&t.$$.dirty&&m.length>0&&n(7,s=a.filter((function(t){return-1!==m.indexOf(t.subcategoryId)}))),65632&t.$$.dirty&&h.length>0&&0==m.length&&n(7,s=a.filter((function(t){return-1!==h.indexOf(t.categoryId)}))),128&t.$$.dirty&&n(9,r=s.length),528&t.$$.dirty&&n(14,i=Math.ceil(r/o)),24&t.$$.dirty&&n(8,c=g*o),272&t.$$.dirty&&n(13,l=c-o)},[d,f,p,g,o,h,m,s,c,r,$,v,u,l,i,function(){n(5,h=[]),n(6,m=[])},a,()=>{n(11,v=!v)},function(t){d=t,n(0,d)},function(t){f=t,n(1,f)},function(t){h=t,n(5,h)},function(t){m=t,n(6,m)},function(t){g=t,n(3,g)},function(t){o=t,n(4,o)},function(t){$=t,n(10,$)},function(t){g=t,n(3,g)}]}return class extends U{constructor(t){super(),Q(this,t,Bt,jt,c,{allProducts:16,childCategories:0,parentCategories:1,showFilters:2})}}}));
//# sourceMappingURL=bundle.js.map
